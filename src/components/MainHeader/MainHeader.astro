---
import Icon from "../Icon/Icon.astro";
import NavBar from "../NavBar/NavBar.astro";
import type { NavBarLinksStructure } from "../../utils/content/types";

type Props = {
  personalName: string;
  navBarLinks: NavBarLinksStructure[];
};

const { personalName, navBarLinks } = Astro.props;
---

<header class="main-header">
  <section class="menu-header">
    <a href="/" class="site-title">
      <Icon icon="terminal-window" color="var(--accent-regular)" size="1.6em" />
      <span>{personalName}</span>
    </a>
    <button class="menu-button" aria-label="Menu" aria-expanded="false">
      <Icon icon="list" />
    </button>
  </section>
  <section class="menu-content">
    <NavBar navBarLinks={navBarLinks} />
  </section>
</header>

<script>
  const btn = document.querySelector(".menu-button");

  const menu = document.querySelector(".nav-list");

  btn?.addEventListener("click", () => {
    menu?.classList.toggle("nav-list--expanded");
  });
</script>
